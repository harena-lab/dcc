<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Playground Editor</title>
  <link rel="stylesheet" href="lib/oiddefault.css">
  <link rel="stylesheet" href="../../css/dccs.css">
  <link rel="stylesheet" href="../harena/common-player.css">
  <link rel="stylesheet" href="../harena/common-author.css">
  <script src="../harena/config.js"></script>
  <script src="../../infra/bus.js"></script>
  <script src="../../base/primitive-dcc.js"></script>
  <script src="../../base/scope-dcc.js"></script>
  <script src="../../base/subscribe-dcc.js"></script>
  <script src="../../base/property-dcc.js"></script>
  <script src="../../base/dcc.js"></script>
  <script src="../../base/dcc-base.js"></script>
  <script src="../../components/control/dcc-timer.js"></script>
  <script src="../../base/dcc-visual.js"></script>
  <script src="../harena/dcc-common-server-proxy.js"></script>
  <script src="../../components/visual/dcc-lively-dialog.js"></script>

  <script src="../../infra/bridge.js" type="module"></script>

  <script type="module">
    import { EditorPg } from './editor-pg.js'
    window.editorPg = EditorPg.i
  </script>
</head>
<body onload="editorPg.start()">
  <oid-sphere assets="../assets/" stylesheet="lib/oiddefault.css" global></oid-sphere>
  <div style="width:100%;height:100vh;display:flex;flex-direction:column">
    <div style="width:100%">
    <h2>
      Playground Editor
      <oid-sphere id="control">
        <button-oid label="Render" publish="click~control/render"></button-oid>
      </oid-sphere>
    </h2>
    </div>
    
    <div style="height:100%">
    <split-pane-oid>
      <div style="width:100%;height:100%;display:flex" slot="side-a">
        <textarea id="pg-editor" class="code" style="width:100%;height:100%"></textarea>
      </div>
      <div style="width:100%;height:100%" slot="side-b">
        <split-pane-oid split="vertical" proportion="75%">
          <div id="pg-render" slot="side-a"
               style="width:100%;height:100%;padding:5px;border-style:solid;border-width:1px">
          </div>
          <div id="pg-bus" style="width:100%;height:100%" slot="side-b">
            <oid-sphere id="control">
              <console-oid class="code" prompt="" subscribe="control/monitor~display">
              </console-oid>
            </oid-sphere>
          </div>
        </split-pane-oid>
      </div>
    </split-pane-oid>
  </div>
  </div>
</body>
</html>